![WASI logo](https://raw.githubusercontent.com/WebAssembly/WASI/main/WASI.png)

## Agenda: October 16 WASI video call

- **Location**: *link on W3C [calendar](https://www.w3.org/groups/cg/webassembly/calendar/)*
- **When**: October 16 2025, 17:00-18:00 UTC
- **Contact**:
  - Name: Yosh Wuyts and Bailey Hayes
  - Email: wasm@yosh.is and bailey@cosmonic.com

### Registration

The meeting is open to CG members only. You can [join the CG here](https://www.w3.org/community/webassembly/).

## Logistics

The meeting will be on a zoom.us video conference.

## Agenda items

1. Opening, welcome and roll call
    1. Please help add your name to the meeting notes.
    1. Please help take notes.
    1. Thanks!
1. Announcements
    1. WASI release process updates (Yosh Wuyts)
    1. _Submit a PR to add your announcement here_
1. Proposals and discussions
    1. Testing WASI (Andy Wingo)
    1. _Submit a PR to add your announcement here_

### Attendees

- Bailey Hayes
- Andy Wingo
- Ryan Day 
- Daniel Mantei
- Alex Crichton
- Joel Dice
- Colin Murphy
- Stephen Berard
- Sehyo Chang
- Yosh Wuyts
- Michiel Van Kenhove
- Yong He
- Luke Wagner
- Johnny Birch


### WASI release process updates

**Bailey**: I made the following changes, merge queue enabled, rebase merge everywhere setting for everything, aka unifying all of our github settings

Bailey: It would be interesting to reconsider moving back to a mono-repo. Right now each release takes about a day for every release, which Bailey and Yosh are doing.

Bailey: another alternative I’ve been exploring is to use GitHub’s new shared/reusable workflow feature, this might help with some of the drift. Will spend Friday on this. But if we had a monorepo we wouldn’t have to.

Bailey: Will not bring monorepo to a vote now, want to talk to stakeholders first. Will open up an issue for this on the repo; want to make sure that we capture all the reasons why we didn’t do a monorepo in the first place, and include that in the conversation.

Yosh: Time proposal, changed names of certain types that had to be upstreamed up to file-system. We do the releases in a lock-step. In a monorepo, this would be a monorepo. Just one more thing that came up very recently.

Issue: https://github.com/WebAssembly/WASI/issues/672


### WASI testing update

https://wingolog.org/pub/wasi-cg-2025-10-16-slides.pdf

Andy: working for the BA for the past 1.5 months to test WASI 0.3. Working on a test suite.

Andy: I’ve been working on https://github.com/webassembly/wasi-testsuite, which already existed but only tested wasip1

Andy: made it easier to run through just a single command, which knows about a number of implementations. Upstreamed the adapters for this implementation.

Andy: did not yet upstream jco since it’s missing some WASIp3 bits.

Andy: previously adapters used to live more downstream, but moved them over upstream.

Andy: echoing what Bailey was saying earlier about CI pain in setting this up.

Andy: runs CI on PRs and performs nightly runs. Builds on prior work.

Andy: <demo time, showing the test suite run from the command line>

Andy: Wild goose chase! The WASIp1 test suite had a number of tests which weren’t passing on wasmtime. WASIp1 is not actively being developed but WASIp1 is also underspecified. Is the impl or the test suite the source of truth?

Andy: WASIp1 tests on Windows failed a lot. It would be good if the p1 tests pass, but the issue is that p3 inherits a lot of it too. So what should we do?

Andy: Realized that the goal of wasi:filesystem was not that it should work the same everywhere. Filesystems differ too much on different platforms, unifying them to have “the one behavior” should not be the goal. wasi:filesystem should be explicit about this, instead it should specify acceptable behaviors rather than the one behavior. This particular problem seems luckily limited to just the filesystem.

Andy: “wasi-filesystem is there to let users access their files” (slide quoting dan gohman). 

Andy: There are three things that the WASI SG could be doing. Formally deprecate the write subsystem (note(yosh): did I get this right?). Another possibility is to ditch the preopens. Wrt specification we may want to specify them as a diff from POSIX.

Andy: At first I was confused about testing the component model, but it was just about testing the WASI apis. Done with clocks, random, filesystem, and http. sockets, and sockets+http are still todo.

Andy: At the end we will have an answer: “does my runtime implement WASI http”. Hard to build confidence, but we’re headed in the right direction! 

Colin Murphy: if I make a change in wasmtime I have to change the wits in wasmtime, is that useful for that? (note: yosh - missed part of the question)

Andy: right now there is no tooling to pull WIT, you have to check in the WIT manually.

Alex: two points. 1. Along the lines of a monorepo, it would be very nice if everything was in the same repo (WITs and tests). WIT management would go out the window because we just have the one source of truth.

Alex: upstreaming tests from Wasmtime. Not conventional to upstream component model tests to the spec. Work is needed to make those tests fit and be able to upstream them. Would like to have a culture where upstreaming tests becomes easy. Web platform tests seem easy to upstream.

Andy: I’ve heard about tests being easy to go in one direction, not the other.

Alex: Would like to bolster a culture here.

Andy: <agreeing>

Luke: on WPT, I believe they do get replicated bi-directionally. Have checked tests in firefox which later showed up in chrome.

Alex: lots of automation to make this a reality, but as a north star this would be nice!

Yosh: Is there any process or anything in mind for how we should best do that?

Andy: Have you seen the writing tests doc? I have a document that was asked for by Alex. This is just an initial step in the direction of explaining things. https://github.com/WebAssembly/wasi-testsuite/blob/main/doc/writing-tests.md

Andy: With your fresh eyes, note the weirdnesses, and file issues. 

Yosh: In terms of scope, are there any limits? Is there a prefix convention like p3 or p1 test? 

Andy: I’m not the boss of wasi-testsuite in some sense. In wasi-testsuite you probably need different toolchains to compile different tests. The C ones are written to POSIX and can be compiled to p1/p2/etc. The rust tests are typically are coded to a particular wasi API. Then you need your own Rust toolchain and one with nightly or stable depending if p2 or p3. Within that subdirectory, anything goes. As long as we are testing WASI with that particular toolchain. I’ve been writing filesystem-something. I have a bunch that are open, then WASIP3 tests that are landed. If you have a feeling for what the repo should look like, that would be a good topic of discussion in issues.

Yosh: I’m hearing welcoming sounds, please contribute, please give feedback.

Daniel Mantei: Is this another place where submodules be helpful? 

Andy: I find generally git submodules to be more annoying than anything else. My flavor is subtree merge if I need to do that. There’s a lot of complexity already. What were you thinking?

Daniel: Just in terms of different submodules for different parts of the testsuite.

Andy: I’ve found it useful though to be able to run everything against the standard interface and to be able to change that interface in one go. I don’t think there’s a right answer here, so no preference here.

Daniel: I haven’t had an extensive chance to think it through yet. Thanks for putting in the effort to do this.
