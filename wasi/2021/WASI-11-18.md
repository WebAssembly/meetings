![WASI logo](https://raw.githubusercontent.com/WebAssembly/WASI/main/assets/WASI.png)

## Agenda: November 18 WASI video call

- **Where**: zoom.us (see Registration below)
- **When**: November 18, 17:00-18:00 UTC
- **Contact**:
  - Name: Lin Clark
  - Email: lclark@fastly.com

### Registration

If this is your first time attending, please [fill out the registration form](https://docs.google.com/forms/d/e/1FAIpQLSdpO6Lp2L_dZ2_oiDgzjKx7pb7s2YYHjeSIyfHWZZGSKoZKWQ/viewform?usp=sf_link) to receive an invite.

The meeting is open to CG members only. You can [join the CG here](https://www.w3.org/community/webassembly/).

## Logistics

The meeting will be on a zoom.us video conference.

## Agenda items

1. Opening, welcome and roll call
    1. Please help add your name to the meeting notes.
    1. Please help take notes.
    1. Thanks!
1. Announcements
    1. Renaming WAI to WI (@tschneidereit, 5 minutes)
    1. Walkthrough of proposal automation (@alexcrichton, 5 minutes)
    1. _Sumbit a PR to add your announcement here_
1. Proposals and discussions
    1. _Sumbit a PR to add your agenda item here_

## Notes

### Attendees

- Lin Clark
- Amanieu d’Antras
- Shiqi Wang
- Johnnie Birch
- Sam Clegg
- Andrew Brown
- Alex Crichton
- Syrus Akbary
- Yong He
- Piotr Sikora
- Till Schneidereit
- Ralph Squillace
- Luke Wagner
- Jun Gan
- Dan Gohman
- Johnnie Birch
- Pat Hickey
- Steven Prine
- Bailey Hayes

### Renaming WAI to WIT

**Till Schneidereit:** New development. The two co-champions of the IT proposal talked about the extension that interface types have as part of the IT proposal, agreed to by CG. .wit, s-expressions type format. Came to the conclusion that IT proposal won’t need to make use of that file format, so won’t need the extension. That means that .wit is available as a file extension, and might actually be immediately useful in IT themselves. That part is up in the air, more to be looked into. With this new development… for context, we had talked about renaming witx to wai. Then issues were raised with that. To make it as straightforward as possible to avoid any complications, we’ll just take another file extension so that no one has to make any hard choices. `wi` would be the fallback, but looks like we can use the `wit` extension. 

Luke just joined, I explained that IT doesn’t need the extension and is happy to relinquish. With all that, idea is now to use wit as the extension. 

Any questions/comments?

**Syrus Akbary:** I would like to thank you for being flexible. I realize that you probably didn’t realize we were using that.

**Sam Clegg:** Are IT thinking that they don’t need file format?

**Luke Wagner:** When we started, we thought all you need is a type. Since then, we realized that you need other things like use statements. Difference between just the type and the IDL. So we started with naive assumption and realized that’s not quite what you want. What people do want to write is like what we’ve been calling witx. Let’s not claim .wit for something that no one will use. Witx was extended because we didn’t know what we were doing yet, but we are close with IT now.

### Walkthrough of proposal automation

**Lin Clark:** Now Alex will show wit in action and the automation he’s been working on.

**Alex Crichton:** What you see on your screen right now is the WASI repo, an ABI file. Idea is that we probably want autogenerated documentation, human readable as markdown, and make sure that it’s in sync.

This is Lin’s current proposal template, we will all be writing the wit.md files. This is the raw markdown file. Idea is that we have English prose, interspersed with code blocks. The proposal is the concatenation of the wit blocks. Idea is that we can take all the wit blocks, and then turn that into an abi file. The abi.md is automatically generated. This is intended to be very similar to the abi doc in the current WASI repo.

We now have wasi-tools, which has the tool for generating the abi. Everyone follow so far?

**Sam Clegg:** So flipping it so that you’re writing markdown and extracting?

**Alex Crichton:** correct

**Sam Clegg:** Why not flip it around, like with Java docs?

**Till Schneidereit:** That’s something that I pushed strongly for. Idea is that we want to have a low hurdle for people to write these things, and to optimize as much as possible for human consumption. This gives you a nice rendering by default on GitHub, if it was contained in wit then we don’t get that. So it’s optimizing for humans rather than machines, but it’s simple to machine read still.

**Sam Clegg:** Yeah, that’s kind of cool actually. So you can just search for triple backticks And then you’ll just have tools that validate what’s in the triple backticks.

**Till Schneidereit:** Our tooling is able to consume this as if it’s wit. Some tricks with line breaks.

**Andrew Brown:** Clarifying question. Tooling will be removed, and we should use wasi-tools. 

**Alex Crichton:** Yes, proposal template doesn’t have tools. Using tooling in GitHub actions that comes from elsewhere. But the idea is that wasi-tools is the canonical source for what it looks like to actually generate these markdown files.

**Andrew Brown:** OK, and your going to explain how we check in the markdown stuff and it would happen automatically?

**Alex Crichton:** Correct, wanted to make sure everyone understood the file structure.

**Till Schneidereit:** Reason for being in its own repo—Lin pointed out that it would be good for the main repo to be the channel for high-level updates about proposals without being spammed with tooling.

**Syrus Akbary:** Side question. I know you have witx-bindgen repo. Propose to move to WASI tools.

**Till Schneidereit:** wasi-tools has wasi specific tooling, also has external dependencies. This is an external dependency.

**Syrus Akbary:** Maybe a wit-tools?

**Till Schneidereit:** Where do you draw the line? Do all transitive dependencies need to be in WASI control? Quite frankly, speaking for the team that maintains that, we are also using this for other things and not all of that is suited for inclusion in WASI.

**Syrus Akbary:** I was meaning to ask that it might be a good idea to move the WIT repo to whe WebAssembly Community Group.

**Lin Clark:** The work of the W3C is specification. Implementations of the specification don't tend to get pushed into the org. W3C’s work, and WebAssembly CG, is about specification, not about coordinated implementation.

**Till Schneidereit:** The specification of the WIT file format is something that absolutely needs to be in the WebAssembly org because very clearly needs to be under control of the CG. And then I hope that there will be multiple implementations that make use of this file format.

**Syrus Akbary:** Yeah, I was asking because right now it seems to me like only one implementation exists, and it’s a case similar to the reference Wasm interpreter present in the WebAssembly proposals.

**Luke Wagner:** Someone separately could submit a reference implementation, but that would be a separate discussion

**Till Schneidereit:** At this time, we as the people who have built this implementation, we don’t have contributing the tool to the WebAssembly org on our roadmap

**Alex Crichton:** Any other questions about the general structure and the markdown formats involved

A couple things here, ABI files need to be kept in sync. Handling this with GitHub actions. 

[Walk through of CI]

**Bailey Hayes:** Is this ready to go?

**Alex Crichton:** Yeah! I think the only thing is to move proposal template and rename to wit.

**Andrew Brown:** So when are we going to move all the original proposals over to the new syntax and new template structure?

**Lin Clark:** I don’t think we have a set date yet. We can talk about that in this meeting.

**Till Schneidereit:** I know Dan has done some work updating existing proposals and seeing what snags we’re hitting. It also means changes for tooling like the sdk.

**Sam Clegg:** Is there some tool that can generate the C header file?

**Alex Crichton:** That’s going into realm of other projects. Whether wit-bindgen is suitable for wasi-libc is an open question.

**Till Schneidereit:** Most important part is the ABI description. Hopefully multiple toolchains for converting one to the other, and then you can check against the ABI.  Makes sense to evaluate overtime what makes sense to live in WebAssembly org and be generated by WASI specific tooling.

**Sam Clegg:** I’m sure that’s mostly wasi-libc. I think that’s a pretty important use case.
